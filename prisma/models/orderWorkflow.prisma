model OrderWorkflow {
  id      Int            @id @default(autoincrement())
  orderId Int            @unique
  status  WorkflowStatus @default(PENDING)

  // Assignment & tracking
  assignedToId String?
  assignedTo   User?   @relation(fields: [assignedToId], references: [id])

  // Timestamps for each stage
  pickStartedAt   DateTime?
  pickCompletedAt DateTime?
  packStartedAt   DateTime?
  packCompletedAt DateTime?
  qaStartedAt     DateTime?
  qaCompletedAt   DateTime?
  completedAt     DateTime?

  // Only set when we push back to WooCommerce
  wooPushedAt  DateTime?
  wooPushError String? // Track if the push failed

  trackingNumber String?
  notes          String?
  createdAt      DateTime @default(now())
  updatedAt      DateTime @updatedAt

  order Order @relation(fields: [orderId], references: [id])
}
